var Ft=Object.create;var q=Object.defineProperty;var bt=Object.getOwnPropertyDescriptor;var Pt=Object.getOwnPropertyNames;var vt=Object.getPrototypeOf,Mt=Object.prototype.hasOwnProperty;var St=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Tt=(e,t)=>{for(var a in t)q(e,a,{get:t[a],enumerable:!0})},rt=(e,t,a,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Pt(t))!Mt.call(e,o)&&o!==a&&q(e,o,{get:()=>t[o],enumerable:!(n=bt(t,o))||n.enumerable});return e};var At=(e,t,a)=>(a=e!=null?Ft(vt(e)):{},rt(t||!e||!e.__esModule?q(a,"default",{value:e,enumerable:!0}):a,e)),kt=e=>rt(q({},"__esModule",{value:!0}),e);var Dt=St(i=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var g=require("obsidian"),K="YYYY-MM-DD",G="gggg-[W]ww",it="YYYY-MM",st="YYYY-[Q]Q",lt="YYYY";function _(e){let t=window.app.plugins.getPlugin("periodic-notes");return t&&t.settings?.[e]?.enabled}function x(){try{let{internalPlugins:e,plugins:t}=window.app;if(_("daily")){let{format:r,folder:s,template:u}=t.getPlugin("periodic-notes")?.settings?.daily||{};return{format:r||K,folder:s?.trim()||"",template:u?.trim()||""}}let{folder:a,format:n,template:o}=e.getPluginById("daily-notes")?.instance?.options||{};return{format:n||K,folder:a?.trim()||"",template:o?.trim()||""}}catch(e){console.info("No custom daily note settings found!",e)}}function I(){try{let e=window.app.plugins,t=e.getPlugin("calendar")?.options,a=e.getPlugin("periodic-notes")?.settings?.weekly;if(_("weekly"))return{format:a.format||G,folder:a.folder?.trim()||"",template:a.template?.trim()||""};let n=t||{};return{format:n.weeklyNoteFormat||G,folder:n.weeklyNoteFolder?.trim()||"",template:n.weeklyNoteTemplate?.trim()||""}}catch(e){console.info("No custom weekly note settings found!",e)}}function V(){let e=window.app.plugins;try{let t=_("monthly")&&e.getPlugin("periodic-notes")?.settings?.monthly||{};return{format:t.format||it,folder:t.folder?.trim()||"",template:t.template?.trim()||""}}catch(t){console.info("No custom monthly note settings found!",t)}}function B(){let e=window.app.plugins;try{let t=_("quarterly")&&e.getPlugin("periodic-notes")?.settings?.quarterly||{};return{format:t.format||st,folder:t.folder?.trim()||"",template:t.template?.trim()||""}}catch(t){console.info("No custom quarterly note settings found!",t)}}function R(){let e=window.app.plugins;try{let t=_("yearly")&&e.getPlugin("periodic-notes")?.settings?.yearly||{};return{format:t.format||lt,folder:t.folder?.trim()||"",template:t.template?.trim()||""}}catch(t){console.info("No custom yearly note settings found!",t)}}function ct(...e){let t=[];for(let n=0,o=e.length;n<o;n++)t=t.concat(e[n].split("/"));let a=[];for(let n=0,o=t.length;n<o;n++){let r=t[n];!r||r==="."||a.push(r)}return t[0]===""&&a.unshift(""),a.join("/")}function Ot(e){let t=e.substring(e.lastIndexOf("/")+1);return t.lastIndexOf(".")!=-1&&(t=t.substring(0,t.lastIndexOf("."))),t}async function Lt(e){let t=e.replace(/\\/g,"/").split("/");if(t.pop(),t.length){let a=ct(...t);window.app.vault.getAbstractFileByPath(a)||await window.app.vault.createFolder(a)}}async function W(e,t){t.endsWith(".md")||(t+=".md");let a=g.normalizePath(ct(e,t));return await Lt(a),a}async function A(e){let{metadataCache:t,vault:a}=window.app,n=g.normalizePath(e);if(n==="/")return Promise.resolve(["",null]);try{let o=t.getFirstLinkpathDest(n,""),r=await a.cachedRead(o),s=window.app.foldManager.load(o);return[r,s]}catch(o){return console.error(`Failed to read the daily note template '${n}'`,o),new g.Notice("Failed to read the daily note template"),["",null]}}function b(e,t="day"){let a=e.clone().startOf(t).format();return`${t}-${a}`}function dt(e){return e.replace(/\[[^\]]*\]/g,"")}function _t(e,t){if(t==="week"){let a=dt(e);return/w{1,2}/i.test(a)&&(/M{1,4}/.test(a)||/D{1,4}/.test(a))}return!1}function k(e,t){return ut(e.basename,t)}function xt(e,t){return ut(Ot(e),t)}function ut(e,t){let n={day:x,week:I,month:V,quarter:B,year:R}[t]().format.split("/").pop(),o=window.moment(e,n,!0);if(!o.isValid())return null;if(_t(n,t)&&t==="week"){let r=dt(n);if(/w{1,2}/i.test(r))return window.moment(e,n.replace(/M{1,4}/g,"").replace(/D{1,4}/g,""),!1)}return o}var J=class extends Error{};async function gt(e){let t=window.app,{vault:a}=t,n=window.moment,{template:o,format:r,folder:s}=x(),[u,m]=await A(o),d=e.format(r),v=await W(s,d);try{let y=await a.create(v,u.replace(/{{\s*date\s*}}/gi,d).replace(/{{\s*time\s*}}/gi,n().format("HH:mm")).replace(/{{\s*title\s*}}/gi,d).replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(w,D,Y,h,l,f)=>{let c=n(),E=e.clone().set({hour:c.get("hour"),minute:c.get("minute"),second:c.get("second")});return Y&&E.add(parseInt(h,10),l),f?E.format(f.substring(1).trim()):E.format(r)}).replace(/{{\s*yesterday\s*}}/gi,e.clone().subtract(1,"day").format(r)).replace(/{{\s*tomorrow\s*}}/gi,e.clone().add(1,"d").format(r)));return t.foldManager.save(y,m),y}catch(y){console.error(`Failed to create file: '${v}'`,y),new g.Notice("Unable to create new file.")}}function It(e,t){return t[b(e,"day")]??null}function Vt(){let{vault:e}=window.app,{folder:t}=x(),a=e.getAbstractFileByPath(g.normalizePath(t));if(!a)throw new J("Failed to find daily notes folder");let n={};return g.Vault.recurseChildren(a,o=>{if(o instanceof g.TFile){let r=k(o,"day");if(r){let s=b(r,"day");n[s]=o}}}),n}var X=class extends Error{};function Bt(){let{moment:e}=window,t=e.localeData()._week.dow,a=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"];for(;t;)a.push(a.shift()),t--;return a}function Rt(e){return Bt().indexOf(e.toLowerCase())}async function ft(e){let{vault:t}=window.app,{template:a,format:n,folder:o}=I(),[r,s]=await A(a),u=e.format(n),m=await W(o,u);try{let d=await t.create(m,r.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(v,y,w,D,Y,h)=>{let l=window.moment(),f=e.clone().set({hour:l.get("hour"),minute:l.get("minute"),second:l.get("second")});return w&&f.add(parseInt(D,10),Y),h?f.format(h.substring(1).trim()):f.format(n)}).replace(/{{\s*title\s*}}/gi,u).replace(/{{\s*time\s*}}/gi,window.moment().format("HH:mm")).replace(/{{\s*(sunday|monday|tuesday|wednesday|thursday|friday|saturday)\s*:(.*?)}}/gi,(v,y,w)=>{let D=Rt(y);return e.weekday(D).format(w.trim())}));return window.app.foldManager.save(d,s),d}catch(d){console.error(`Failed to create file: '${m}'`,d),new g.Notice("Unable to create new file.")}}function Wt(e,t){return t[b(e,"week")]??null}function Ht(){let e={};if(!mt())return e;let{vault:t}=window.app,{folder:a}=I(),n=t.getAbstractFileByPath(g.normalizePath(a));if(!n)throw new X("Failed to find weekly notes folder");return g.Vault.recurseChildren(n,o=>{if(o instanceof g.TFile){let r=k(o,"week");if(r){let s=b(r,"week");e[s]=o}}}),e}var Z=class extends Error{};async function pt(e){let{vault:t}=window.app,{template:a,format:n,folder:o}=V(),[r,s]=await A(a),u=e.format(n),m=await W(o,u);try{let d=await t.create(m,r.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(v,y,w,D,Y,h)=>{let l=window.moment(),f=e.clone().set({hour:l.get("hour"),minute:l.get("minute"),second:l.get("second")});return w&&f.add(parseInt(D,10),Y),h?f.format(h.substring(1).trim()):f.format(n)}).replace(/{{\s*date\s*}}/gi,u).replace(/{{\s*time\s*}}/gi,window.moment().format("HH:mm")).replace(/{{\s*title\s*}}/gi,u));return window.app.foldManager.save(d,s),d}catch(d){console.error(`Failed to create file: '${m}'`,d),new g.Notice("Unable to create new file.")}}function Ut(e,t){return t[b(e,"month")]??null}function qt(){let e={};if(!ht())return e;let{vault:t}=window.app,{folder:a}=V(),n=t.getAbstractFileByPath(g.normalizePath(a));if(!n)throw new Z("Failed to find monthly notes folder");return g.Vault.recurseChildren(n,o=>{if(o instanceof g.TFile){let r=k(o,"month");if(r){let s=b(r,"month");e[s]=o}}}),e}var tt=class extends Error{};async function Qt(e){let{vault:t}=window.app,{template:a,format:n,folder:o}=B(),[r,s]=await A(a),u=e.format(n),m=await W(o,u);try{let d=await t.create(m,r.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(v,y,w,D,Y,h)=>{let l=window.moment(),f=e.clone().set({hour:l.get("hour"),minute:l.get("minute"),second:l.get("second")});return w&&f.add(parseInt(D,10),Y),h?f.format(h.substring(1).trim()):f.format(n)}).replace(/{{\s*date\s*}}/gi,u).replace(/{{\s*time\s*}}/gi,window.moment().format("HH:mm")).replace(/{{\s*title\s*}}/gi,u));return window.app.foldManager.save(d,s),d}catch(d){console.error(`Failed to create file: '${m}'`,d),new g.Notice("Unable to create new file.")}}function $t(e,t){return t[b(e,"quarter")]??null}function zt(){let e={};if(!yt())return e;let{vault:t}=window.app,{folder:a}=B(),n=t.getAbstractFileByPath(g.normalizePath(a));if(!n)throw new tt("Failed to find quarterly notes folder");return g.Vault.recurseChildren(n,o=>{if(o instanceof g.TFile){let r=k(o,"quarter");if(r){let s=b(r,"quarter");e[s]=o}}}),e}var et=class extends Error{};async function jt(e){let{vault:t}=window.app,{template:a,format:n,folder:o}=R(),[r,s]=await A(a),u=e.format(n),m=await W(o,u);try{let d=await t.create(m,r.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(v,y,w,D,Y,h)=>{let l=window.moment(),f=e.clone().set({hour:l.get("hour"),minute:l.get("minute"),second:l.get("second")});return w&&f.add(parseInt(D,10),Y),h?f.format(h.substring(1).trim()):f.format(n)}).replace(/{{\s*date\s*}}/gi,u).replace(/{{\s*time\s*}}/gi,window.moment().format("HH:mm")).replace(/{{\s*title\s*}}/gi,u));return window.app.foldManager.save(d,s),d}catch(d){console.error(`Failed to create file: '${m}'`,d),new g.Notice("Unable to create new file.")}}function Kt(e,t){return t[b(e,"year")]??null}function Gt(){let e={};if(!wt())return e;let{vault:t}=window.app,{folder:a}=R(),n=t.getAbstractFileByPath(g.normalizePath(a));if(!n)throw new et("Failed to find yearly notes folder");return g.Vault.recurseChildren(n,o=>{if(o instanceof g.TFile){let r=k(o,"year");if(r){let s=b(r,"year");e[s]=o}}}),e}function Jt(){let{app:e}=window,t=e.internalPlugins.plugins["daily-notes"];if(t&&t.enabled)return!0;let a=e.plugins.getPlugin("periodic-notes");return a&&a.settings?.daily?.enabled}function mt(){let{app:e}=window;if(e.plugins.getPlugin("calendar"))return!0;let t=e.plugins.getPlugin("periodic-notes");return t&&t.settings?.weekly?.enabled}function ht(){let{app:e}=window,t=e.plugins.getPlugin("periodic-notes");return t&&t.settings?.monthly?.enabled}function yt(){let{app:e}=window,t=e.plugins.getPlugin("periodic-notes");return t&&t.settings?.quarterly?.enabled}function wt(){let{app:e}=window,t=e.plugins.getPlugin("periodic-notes");return t&&t.settings?.yearly?.enabled}function Xt(e){let t={day:x,week:I,month:V,quarter:B,year:R}[e];return t()}function Zt(e,t){return{day:gt,month:pt,week:ft}[e](t)}i.DEFAULT_DAILY_NOTE_FORMAT=K;i.DEFAULT_MONTHLY_NOTE_FORMAT=it;i.DEFAULT_QUARTERLY_NOTE_FORMAT=st;i.DEFAULT_WEEKLY_NOTE_FORMAT=G;i.DEFAULT_YEARLY_NOTE_FORMAT=lt;i.appHasDailyNotesPluginLoaded=Jt;i.appHasMonthlyNotesPluginLoaded=ht;i.appHasQuarterlyNotesPluginLoaded=yt;i.appHasWeeklyNotesPluginLoaded=mt;i.appHasYearlyNotesPluginLoaded=wt;i.createDailyNote=gt;i.createMonthlyNote=pt;i.createPeriodicNote=Zt;i.createQuarterlyNote=Qt;i.createWeeklyNote=ft;i.createYearlyNote=jt;i.getAllDailyNotes=Vt;i.getAllMonthlyNotes=qt;i.getAllQuarterlyNotes=zt;i.getAllWeeklyNotes=Ht;i.getAllYearlyNotes=Gt;i.getDailyNote=It;i.getDailyNoteSettings=x;i.getDateFromFile=k;i.getDateFromPath=xt;i.getDateUID=b;i.getMonthlyNote=Ut;i.getMonthlyNoteSettings=V;i.getPeriodicNoteSettings=Xt;i.getQuarterlyNote=$t;i.getQuarterlyNoteSettings=B;i.getTemplateInfo=A;i.getWeeklyNote=Wt;i.getWeeklyNoteSettings=I;i.getYearlyNote=Kt;i.getYearlyNoteSettings=R});var ee={};Tt(ee,{default:()=>z});module.exports=kt(ee);var Yt=require("obsidian");var C=require("obsidian"),M=At(Dt());var Nt=require("obsidian"),at=class extends Nt.Modal{constructor(t,a){super(t),this.config=a}onOpen(){let{contentEl:t}=this,{cta:a,onAccept:n,text:o,title:r}=this.config;t.empty(),t.createEl("h2",{text:r}),t.createEl("p",{text:o}),t.createDiv("modal-button-container",s=>{s.createEl("button",{text:"Never mind"}).addEventListener("click",()=>this.close()),s.createEl("button",{cls:"mod-cta",text:a}).addEventListener("click",async u=>{await n(u),this.close()})})}onClose(){let{contentEl:t}=this;t.empty()}};function Ct(e,t){new at(e,t).open()}var O="yearly-calendar-view",Q=class extends C.ItemView{constructor(t,a){super(t),this.plugin=a}getViewType(){return O}getDisplayText(){return`Year Calendar - ${this.plugin.settings.year}`}getIcon(){return"calendar-days"}async onOpen(){let t=this.containerEl.children[1];t.empty(),this.calendarContentEl=t.createDiv({cls:"continuous-calendar-content"}),await this.renderCalendar(),this.registerDomEvent(this.calendarContentEl,"click",this.handleClick.bind(this))}async onClose(){}async refresh(){this.leaf.updateHeader(),await this.renderCalendar()}async renderCalendar(){this.calendarContentEl.empty();let t=this.plugin.settings.year,a=(0,C.moment)().format("YYYY-MM-DD"),n=(0,M.getAllDailyNotes)(),o=this.app.vault.getMarkdownFiles(),r=[],s=[],u=this.plugin.settings.birthdayFolder.toLowerCase(),m=this.plugin.settings.birthdayFolder.trim()!=="";for(let l of o){let c=this.app.metadataCache.getFileCache(l)?.frontmatter;if(!c)continue;let E=!1,T=null,S=null,H=null;if(c.date){let N=(0,C.moment)(c.date.toString(),"YYYY-MM-DD",!0);N.isValid()&&(T=N.format("YYYY-MM-DD"),E=!0)}if(c.dateStart&&c.dateEnd){let N=(0,C.moment)(c.dateStart.toString(),"YYYY-MM-DD",!0),U=(0,C.moment)(c.dateEnd.toString(),"YYYY-MM-DD",!0);N.isValid()&&U.isValid()&&(S=N.format("YYYY-MM-DD"),H=U.format("YYYY-MM-DD"),E=!0)}if(E&&r.push({date:T,dateStart:S,dateEnd:H,name:l.basename,color:c.color}),c.birthday&&(!m||l.path.toLowerCase().startsWith(u))){let N=(0,C.moment)(c.birthday.toString(),"YYYY-MM-DD",!0);N.isValid()&&s.push({birthday:N.format("YYYY-MM-DD"),name:l.basename,color:c.color})}}let d=this.calendarContentEl.createEl("table",{cls:"my-calendar-table"}),y=d.createEl("thead").createEl("tr");y.createEl("th",{text:"W"}),"Mon Tue Wed Thu Fri Sat Sun".split(" ").forEach(l=>y.createEl("th",{text:l}));let w=d.createEl("tbody"),D=(0,C.moment)(`${t}-01-01`).startOf("isoWeek"),Y=(0,C.moment)(`${t}-12-31`).endOf("isoWeek"),h=D.clone();for(;h.isBefore(Y);){let l=w.createEl("tr");l.createEl("td",{cls:"week-number",text:h.isoWeek().toString()});for(let f=0;f<7;f++){let c=h,E=c.format("YYYY-MM-DD"),T=l.createEl("td");T.dataset.date=E;let S=["calendar-cell"],H=c.month()%2===1;S.push(H?"odd-month":"even-month"),c.year()!==t&&S.push("other-year"),E===a&&S.push("today"),T.addClass(...S);let N=T.createDiv({cls:"cell-content"}),U=N.createDiv({cls:"top-content"}),nt=N.createDiv({cls:"dot-area"}),Et=N.createDiv({cls:"range-bar-area"}),ot=U.createSpan({cls:"day-number"});c.year()===t&&(ot.setText(c.date().toString()),(0,M.getDailyNote)(c,n)&&ot.addClass("has-daily-note")),r.filter(p=>p.date===E).forEach(p=>{let F=nt.createSpan({cls:"dot note-dot",text:"\u25CF"});F.title=p.name,F.style.color=p.color||this.plugin.settings.defaultDotColor});let j=s.filter(p=>{let F=(0,C.moment)(p.birthday,"YYYY-MM-DD");return F.month()===c.month()&&F.date()===c.date()});if(j.length>0){let p=nt.createSpan({cls:"dot birthday-dot"});p.textContent=this.plugin.settings.defaultBirthdaySymbol,p.title=j.map(F=>F.name).join(`
`),p.style.color=j[0].color||this.plugin.settings.defaultBirthdayColor}r.filter(p=>p.dateStart&&p.dateEnd&&c.isBetween(p.dateStart,p.dateEnd,"day","[]")).forEach(p=>{let F=Et.createDiv({cls:"range-bar",title:p.name});F.style.backgroundColor=p.color||this.plugin.settings.defaultBarColor,c.isSame(p.dateStart,"day")&&F.addClass("range-start"),c.isSame(p.dateEnd,"day")&&F.addClass("range-end")}),h.add(1,"day")}}}handleClick(t){let a=t.target;if(a.closest(".day-number")){let o=a.closest("td.calendar-cell");if(o&&o.dataset.date){let r=(0,C.moment)(o.dataset.date);this.openOrCreateDailyNote(r,t)}}}async openOrCreateDailyNote(t,a){let{workspace:n}=this.app,o=(0,M.getAllDailyNotes)(),r=(0,M.getDailyNote)(t,o),s=a.ctrlKey||a.metaKey,u=async()=>{try{let m=await(0,M.createDailyNote)(t);await n.openLinkText(m.path,"",s)}catch(m){console.error(`Failed to create daily note for ${t.format("YYYY-MM-DD")}:`,m)}};r?await n.openLinkText(r.path,"",s):this.plugin.settings.shouldConfirmBeforeCreate?Ct(this.app,{title:"Create Daily Note?",text:`Daily note for ${t.format("YYYY-MM-DD")} does not exist. Create it now?`,cta:"Create",onAccept:u}):await u()}};var P=require("obsidian"),L={"Default (Theme-based)":"currentColor",Red:"var(--color-red-tint)",Orange:"var(--color-orange-tint)",Yellow:"var(--color-yellow-tint)",Green:"var(--color-green-tint)",Cyan:"var(--color-cyan-tint)",Blue:"var(--color-blue-tint)",Purple:"var(--color-purple-tint)","Accent Color":"var(--interactive-accent)"},$=class extends P.PluginSettingTab{constructor(t,a){super(t,a),this.plugin=a}display(){let{containerEl:t}=this;t.empty(),t.createEl("h2",{text:"Continuous Calendar Settings"}),new P.Setting(t).setName("Year to Display").setDesc("Which year the calendar should show.").addText(a=>a.setPlaceholder("e.g., 2024").setValue(this.plugin.settings.year.toString()).onChange(async n=>{let o=parseInt(n);isNaN(o)||(this.plugin.settings.year=o,await this.plugin.saveSettings(),this.plugin.refreshCalendarView())})),t.createEl("h3",{text:"Event Display"}),new P.Setting(t).setName("Default Event Dot Color").setDesc("Fallback color if a note has a date but no `color` frontmatter specified.").addDropdown(a=>{Object.keys(L).forEach(n=>{a.addOption(L[n],n)}),a.setValue(this.plugin.settings.defaultDotColor),a.onChange(async n=>{this.plugin.settings.defaultDotColor=n,await this.plugin.saveSettings(),this.plugin.refreshCalendarView()})}),new P.Setting(t).setName("Default Range Bar Color").setDesc("Fallback color for range bars if note has no `color` frontmatter.").addDropdown(a=>{Object.keys(L).forEach(n=>{a.addOption(L[n],n)}),a.setValue(this.plugin.settings.defaultBarColor),a.onChange(async n=>{this.plugin.settings.defaultBarColor=n,await this.plugin.saveSettings(),this.plugin.refreshCalendarView()})}),t.createEl("h3",{text:"Birthdays"}),new P.Setting(t).setName("Birthdays Folder Path").setDesc("Path to folder with birthday notes. Leave empty to scan the entire vault.").addText(a=>{a.setPlaceholder("e.g. People/Birthdays").setValue(this.plugin.settings.birthdayFolder).onChange(async n=>{this.plugin.settings.birthdayFolder=n.trim(),await this.plugin.saveSettings(),this.plugin.refreshCalendarView()})}),new P.Setting(t).setName("Birthday symbol / emoji").setDesc("Single character shown for birthdays (e.g. \u{1F382}, \u2731, \u2605).").addText(a=>{a.setPlaceholder("\u{1F382}").setValue(this.plugin.settings.defaultBirthdaySymbol).onChange(async n=>{this.plugin.settings.defaultBirthdaySymbol=n.trim()||"\u{1F382}",await this.plugin.saveSettings(),this.plugin.refreshCalendarView()})}),new P.Setting(t).setName("Default Birthday Color").setDesc("Fallback color if a birthday note has no `color` frontmatter.").addDropdown(a=>{Object.keys(L).forEach(n=>{a.addOption(L[n],n)}),a.setValue(this.plugin.settings.defaultBirthdayColor),a.onChange(async n=>{this.plugin.settings.defaultBirthdayColor=n,await this.plugin.saveSettings(),this.plugin.refreshCalendarView()})}),t.createEl("h3",{text:"Interaction"}),new P.Setting(t).setName("Confirm before creating daily notes").setDesc("Show a confirmation dialog asking if you want to create a missing daily note.").addToggle(a=>a.setValue(this.plugin.settings.shouldConfirmBeforeCreate).onChange(async n=>{this.plugin.settings.shouldConfirmBeforeCreate=n,await this.plugin.saveSettings()}))}};var te={year:new Date().getFullYear(),defaultDotColor:"currentColor",defaultBarColor:"var(--interactive-accent)",shouldConfirmBeforeCreate:!0,birthdayFolder:"",defaultBirthdaySymbol:"\u{1F382}",defaultBirthdayColor:"var(--color-red-tint)"},z=class extends Yt.Plugin{constructor(){super(...arguments);this.calendarView=null}async onload(){console.log("Loading Continuous Calendar Plugin"),await this.loadSettings(),this.registerView(O,a=>(this.calendarView=new Q(a,this),this.calendarView)),this.addRibbonIcon("calendar-days","Open Continuous Calendar",a=>{this.activateView()}),this.addSettingTab(new $(this.app,this))}onunload(){console.log("Unloading Continuous Calendar Plugin"),this.calendarView=null}async loadSettings(){this.settings=Object.assign({},te,await this.loadData())}async saveSettings(){await this.saveData(this.settings)}async activateView(){this.app.workspace.getLeavesOfType(O).forEach(a=>{a.detach()}),await this.app.workspace.getRightLeaf(!1)?.setViewState({type:O,active:!0}),this.app.workspace.revealLeaf(this.app.workspace.getLeavesOfType(O)[0])}refreshCalendarView(){this.calendarView&&(this.calendarView.refresh(),console.log("Calendar view refreshed."))}};
